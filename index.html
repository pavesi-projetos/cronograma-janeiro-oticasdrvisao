<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Dr. Vis√£o - Miguel√≥polis</title>
    <!-- Tailwind CSS para estiliza√ß√£o r√°pida e id√™ntica ao original -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons para os √≠cones -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Estiliza√ß√£o da barra de rolagem */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* Classes utilit√°rias para anima√ß√£o do Modal */
        .modal-enter { opacity: 0; pointer-events: none; }
        .modal-enter-active { opacity: 1; pointer-events: auto; }
        .slide-in { transform: translateX(100%); transition: transform 0.3s ease-out; }
        .slide-in-active { transform: translateX(0); }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans overflow-hidden h-screen flex">

    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-slate-200 flex flex-col hidden md:flex">
        <div class="p-6 border-b border-slate-100">
            <div class="flex items-center gap-2 text-indigo-700 font-bold text-xl">
                <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                <span>Dr. Vis√£o</span>
            </div>
            <div class="flex items-center gap-1 mt-2 text-xs text-slate-500">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                <span id="location-display">Miguel√≥polis</span>
            </div>
        </div>
        
        <div class="flex-1 p-4 space-y-2 overflow-y-auto" id="week-nav">
            <div class="text-xs font-semibold text-slate-400 mb-2 px-2 uppercase">Semanas</div>
            <!-- Bot√µes das semanas ser√£o injetados aqui -->
        </div>

        <div class="mt-auto p-6 border-t border-slate-100">
            <div class="text-xs font-semibold text-slate-400 mb-2 uppercase">Marcas em Destaque</div>
            <div class="flex flex-wrap gap-2" id="brand-tags">
                <!-- Tags de marcas -->
            </div>
        </div>
    </aside>

    <!-- Conte√∫do Principal -->
    <div class="flex-1 flex flex-col h-full overflow-hidden relative">
        
        <!-- Header -->
        <header class="bg-white border-b border-slate-200 p-6 flex justify-between items-center z-10">
            <div>
                <h1 class="text-2xl font-bold text-slate-900" id="month-title">Janeiro 2026</h1>
                <h2 class="text-sm text-slate-500 flex items-center gap-2 mt-1" id="week-theme-display">
                    <!-- Tema da semana -->
                </h2>
            </div>
            <div class="flex gap-4 text-center">
                <div class="px-4 border-r border-slate-200">
                    <span class="text-xl font-bold text-slate-900">11</span>
                    <span class="block text-xs text-slate-500 uppercase">Reels</span>
                </div>
                <div class="px-4 border-r border-slate-200">
                    <span class="text-xl font-bold text-slate-900">9</span>
                    <span class="block text-xs text-slate-500 uppercase">Carross√©is</span>
                </div>
                <div class="px-4">
                    <span class="text-xl font-bold text-slate-900">4</span>
                    <span class="block text-xs text-slate-500 uppercase">Est√°ticos</span>
                </div>
            </div>
        </header>

        <!-- Grid de Posts -->
        <main class="flex-1 overflow-y-auto p-6 bg-slate-50">
            <div id="posts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-20">
                <!-- Cards ser√£o injetados aqui -->
            </div>
        </main>

        <!-- Modal Overlay -->
        <div id="modal-overlay" class="fixed inset-0 z-50 flex justify-end bg-black/20 backdrop-blur-sm transition-all duration-300 opacity-0 pointer-events-none" onclick="closeModal()">
            <!-- Sidebar do Modal -->
            <div id="modal-content" class="w-full md:w-[600px] h-full bg-white shadow-2xl overflow-y-auto transform translate-x-full transition-transform duration-300" onclick="event.stopPropagation()">
                <!-- Conte√∫do do Modal ser√° injetado aqui -->
            </div>
        </div>

    </div>

    <!-- Script Principal -->
    <script>
        // --- DADOS ---
        const planData = {
            strategy: {
                month: "Janeiro 2026",
                client: "√ìticas Dr. Vis√£o",
                location: "Miguel√≥polis",
                weeks: [
                    {
                        id: 1,
                        theme: "O Futuro Chegou (Lan√ßamento Ray-Ban Meta)",
                        focus: "Inova√ß√£o & Desejo",
                        color: "bg-blue-600",
                        posts: [
                            {
                                day: "Segunda-feira",
                                format: "Reels",
                                type: "Lan√ßamento Oficial",
                                content: {
                                    video: "Use o criativo mais impactante (o √≥culos sendo colocado ou acendendo o led da c√¢mera).",
                                    screenText: "Isso n√£o √© apenas um √≥culos.",
                                    audio: "Technology / Futuristic Beat (Trending)",
                                    caption: "O futuro da vis√£o chegou a Dr. Vis√£o. üöÄ Apresentamos o novo Ray-Ban Meta: filme, tire fotos, ou√ßa m√∫sica e fa√ßa chamadas sem tirar o celular do bolso. Tudo isso com o estilo ic√¥nico que voc√™ j√° ama. O estoque √© limitad√≠ssimo. Garanta o seu agora.",
                                    cta: "Comente 'META' para receber o cat√°logo e valores no direct.",
                                    hashtags: "#raybanmeta #tecnologia #inova√ß√£o #miguelopolis"
                                },
                                storyPhrase: "Uma nova semana para enxergar novas oportunidades. Bom dia! üëì",
                                storyCombo: {
                                    brand: "Ray-Ban Meta",
                                    sequence: ["V√≠deo curto dando zoom na c√¢mera do √≥culos.", "Enquete: 'Voc√™ usaria um √≥culos que tira foto?' (Sim/Com certeza).", "Foto do produto na caixa com link para o WhatsApp."]
                                }
                            },
                            {
                                day: "Ter√ßa-feira",
                                format: "Carrossel",
                                type: "Detalhes T√©cnicos",
                                content: {
                                    structure: "1. Capa: Close-up 'O segredo est√° nos detalhes'. 2. C√¢mera 12MP Ultra-wide. 3. √Åudio Open-Ear Imersivo. 4. Intelig√™ncia Artificial Integrada. 5. Produto na caixa com logo Dr. Vis√£o.",
                                    caption: "Voc√™ nunca viu nada igual. O Ray-Ban Meta une a prote√ß√£o das melhores lentes com a tecnologia de um smartphone. Ideal para creators, motoristas e quem ama praticidade.",
                                    cta: "Toque no link da bio e seja o primeiro a ter essa tecnologia.",
                                    hashtags: "#smartglasses #miguelopolis #oticas #tecnologia"
                                },
                                storyPhrase: "Foco no que te faz bem. √ìtima ter√ßa!",
                                storyCombo: {
                                    brand: "Ana Hickmann",
                                    sequence: ["Foto estilo 'Flatlay' (√≥culos sobre uma mesa com caf√©/revista).", "V√≠deo selfie provando o modelo: 'Olha esse detalhe na haste!'.", "Link direto para o cat√°logo da Ana Hickmann."]
                                }
                            },
                            {
                                day: "Quarta-feira",
                                format: "Reels",
                                type: "Lifestyle/Uso Real",
                                content: {
                                    video: "Algu√©m andando na rua, ouvindo m√∫sica (balan√ßando a cabe√ßa) e tocando na haste para atender uma liga√ß√£o.",
                                    screenText: "POV: Seu dia a dia com o Ray-Ban Meta.",
                                    audio: "Som viral animado (ex: pop atual)",
                                    caption: "Imagina capturar os melhores momentos da vida exatamente como seus olhos veem? üëÄ Com o Ray-Ban Meta, voc√™ vive o momento e registra o momento. Dispon√≠vel na Dr. Vis√£o em Miguel√≥polis.",
                                    cta: "Envie este post para quem precisa te dar um desse de presente!",
                                    hashtags: "#estilodevida #wearabletech #rayban #miguelopolis"
                                },
                                storyPhrase: "Metade da semana: seus olhos est√£o descansados ou pedindo socorro?",
                                storyCombo: {
                                    brand: "Grazi Eyewear",
                                    sequence: ["Boomerang abrindo e fechando a caixinha da Grazi.", "Foto de modelo (divulga√ß√£o) usando o √≥culos.", "Texto: 'Leveza e estilo para sua quarta-feira'."]
                                }
                            },
                            {
                                day: "Quinta-feira",
                                format: "Reels",
                                type: "A Est√©tica",
                                content: {
                                    video: "Transi√ß√£o r√°pida. Pessoa 'sem gra√ßa' -> Corta -> Pessoa estilosa com o Ray-Ban Meta Wayfarer.",
                                    screenText: "Tech, mas com estilo cl√°ssico.",
                                    audio: "Rock cl√°ssico ou batida fashion",
                                    caption: "Tecnologia n√£o precisa parecer rob√¥. O Ray-Ban Meta mant√©m o design cl√°ssico Wayfarer que nunca sai de moda. Ningu√©m diz que √© um smartglass at√© voc√™ come√ßar a gravar. üòâ",
                                    cta: "Venha provar na loja hoje mesmo.",
                                    hashtags: "#wayfarer #modamasculina #modafeminina #miguelopolis"
                                },
                                storyPhrase: "Ver o mundo com nitidez √© um superpoder. Bom dia!",
                                storyCombo: {
                                    brand: "Mormaii",
                                    sequence: ["Foto do √≥culos em ambiente externo (sol/natureza).", "Destaque para a flexibilidade da arma√ß√£o (v√≠deo dobrando levemente).", "CTA: 'Perfeito para o dia a dia. Venha provar'."]
                                }
                            },
                            {
                                day: "Sexta-feira",
                                format: "Carrossel",
                                type: "Perguntas Frequentes",
                                content: {
                                    structure: "Capa: Ray-Ban Meta: D√∫vidas Comuns. Slide 2: Posso colocar grau? Sim! Slide 3: Bateria? At√© 4h + estojo. Slide 4: Compat√≠vel iPhone/Android? Sim.",
                                    caption: "Tiramos as principais d√∫vidas sobre o lan√ßamento do ano! E sim, n√≥s colocamos as suas lentes de grau nele com perfei√ß√£o.",
                                    cta: "Tem mais alguma d√∫vida? Deixe nos coment√°rios!",
                                    hashtags: "#duvidas #lentesdegrau #tecnologia #miguelopolis"
                                },
                                storyPhrase: "Sextou! Qual √© o √≥culos que vai te acompanhar no fim de semana? üòé",
                                storyCombo: {
                                    brand: "Sabrina Sato",
                                    sequence: ["V√≠deo mostrando 3 modelos diferentes da marca na bancada.", "Enquete: 'Qual combina mais com seu sextou? 1, 2 ou 3?'.", "Repost da resposta vencedora com pre√ßo."]
                                }
                            },
                            {
                                day: "S√°bado",
                                format: "Reels",
                                type: "Convite/Urg√™ncia",
                                content: {
                                    video: "Tour r√°pido pela loja mostrando o display dos Ray-Ban Meta, finalizando com a equipe dando tchau.",
                                    screenText: "Estamos te esperando!",
                                    audio: "M√∫sica ac√∫stica 'Good Vibes'",
                                    caption: "S√°bado √© dia de passar na Dr. Vis√£o e experimentar o futuro. Venha testar o som e a c√¢mera do Ray-Ban Meta pessoalmente. Estamos abertos at√© √†s [hor√°rio]!",
                                    cta: "Clique em 'como chegar' nos nossos destaques.",
                                    hashtags: "#sabadou #compras #miguelopolis #fimdesemana"
                                },
                                storyPhrase: "S√°bado na Dr. Vis√£o: Estilo, caf√© e tecnologia. Vem!",
                                storyCombo: {
                                    brand: "Evoke",
                                    sequence: ["Foto com √≥culos de sol Evoke bem estiloso (foco no design).", "V√≠deo da equipe usando: 'O queridinho do s√°bado'.", "Localiza√ß√£o da loja (Sticker de mapa)."]
                                }
                            }
                        ]
                    },
                    {
                        id: 2,
                        theme: "Sa√∫de Visual e Volta √† Rotina",
                        focus: "Autoridade & Necessidade",
                        color: "bg-emerald-600",
                        posts: [
                            {
                                day: "Segunda-feira",
                                format: "Reels",
                                type: "Dor e Solu√ß√£o",
                                content: {
                                    video: "Pessoa esfregando os olhos na frente do PC. Corta para ela colocando √≥culos com filtro azul e sorrindo.",
                                    screenText: "Dor de cabe√ßa no final do dia? Pode ser isso.",
                                    caption: "O excesso de telas exige prote√ß√£o. Lentes com filtro de luz azul reduzem a fadiga ocular e melhoram seu sono. Comece a semana cuidando de voc√™.",
                                    cta: "Agende seu exame de vista pelo link na bio.",
                                    hashtags: "#saudeocular #luzazul #homeoffice #miguelopolis"
                                },
                                storyPhrase: "Comece a segunda-feira com um novo olhar sobre seus objetivos.",
                                storyCombo: { brand: "Kipling", sequence: ["Foto das hastes coloridas/estampadas da Kipling.", "Foto de uma arma√ß√£o infantil/teen da marca.", "Texto: 'Volta √†s aulas com estilo Kipling'."] }
                            },
                            {
                                day: "Ter√ßa-feira",
                                format: "Carrossel",
                                type: "Sinais de Alerta",
                                content: {
                                    structure: "T√≠tulo: 4 Sinais que seu grau venceu. 1. Aperta olhos para ler. 2. Dor de cabe√ßa frontal. 3. Vis√£o emba√ßada √† noite. 4. √ìculos com +1 ano.",
                                    caption: "Quando foi sua √∫ltima visita ao oftalmologista? Se voc√™ se identificou com 2 ou mais sinais, est√° na hora de renovar.",
                                    cta: "Mande um direct para agendar sua avalia√ß√£o.",
                                    hashtags: "#miopia #astigmatismo #examedevista #miguelopolis"
                                },
                                storyPhrase: "Detalhes fazem a diferen√ßa. Na vida e nos seus √≥culos.",
                                storyCombo: { brand: "Hickmann", sequence: ["V√≠deo mostrando o detalhe do metal dourado na arma√ß√£o.", "Foto de rosto (modelo) sorrindo.", "Box de perguntas: 'Que nota voc√™ d√° pra esse modelo?'"] }
                            },
                            {
                                day: "Quarta-feira",
                                format: "Est√°tico",
                                type: "Produto Premium",
                                content: {
                                    video: "Foto macro de lente Varilux ou Crizal mostrando transpar√™ncia.",
                                    caption: "N√£o √© s√≥ um 'vidro'. √â tecnologia √≥ptica. Trabalhamos com as melhores lentes do mercado para garantir nitidez HD para seus olhos. Voc√™ merece ver o mundo em alta defini√ß√£o aqui em Miguel√≥polis.",
                                    cta: "Pe√ßa um or√ßamento de lentes no nosso WhatsApp.",
                                    hashtags: "#varilux #crizal #qualidade #miguelopolis"
                                },
                                storyPhrase: "Bom dia! Lembre-se de piscar e descansar os olhos hoje.",
                                storyCombo: { brand: "Platini", sequence: ["Foto focada em um modelo masculino cl√°ssico.", "Texto: 'Eleg√¢ncia e durabilidade'.", "Link para agendar exame de vista."] }
                            },
                            {
                                day: "Quinta-feira",
                                format: "Reels",
                                type: "Tutorial/ASMR",
                                content: {
                                    video: "Limpando √≥culos sujo com spray e microfibra. Som ASMR.",
                                    screenText: "Pare de limpar na camiseta! üõë",
                                    caption: "Limpar os √≥culos na roupa risca as lentes e destr√≥i o tratamento antirreflexo. Aprenda o jeito certo: Spray espec√≠fico + flanela de microfibra.",
                                    cta: "Salve essa dica para n√£o esquecer.",
                                    hashtags: "#dicas #cuidados #oculos #miguelopolis"
                                },
                                storyPhrase: "Estilo √© dizer quem voc√™ √© sem precisar falar. Escolha sua arma√ß√£o.",
                                storyCombo: { brand: "D√©bora Secco (Femme Paris)", sequence: ["V√≠deo experimentando um modelo 'gatinho' ousado.", "Foto com filtro preto e branco (glamour).", "Texto: 'Para quem tem personalidade forte'."] }
                            },
                            {
                                day: "Sexta-feira",
                                format: "Carrossel",
                                type: "Mitos e Verdades",
                                content: {
                                    structure: "1. Ler no escuro estraga a vis√£o? (Mito). 2. Cenoura melhora a vis√£o? (Verdade). 3. Usar √≥culos de outra pessoa aumenta grau? (Mito).",
                                    caption: "Informa√ß√£o tamb√©m √© cuidado! Quantos desses mitos voc√™ acreditava?",
                                    cta: "Compartilhe nos stories!",
                                    hashtags: "#curiosidades #oftalmologia #verdades #miguelopolis"
                                },
                                storyPhrase: "Sexta-feira com vis√£o HD. Aproveite o dia!",
                                storyCombo: { brand: "Ray-Ban", sequence: ["Foto de um cl√°ssico Aviador ou Hexagonal.", "V√≠deo mostrando a cor da lente contra a luz.", "Sticker 'Sextou' + Link do WhatsApp."] }
                            },
                            {
                                day: "S√°bado",
                                format: "Reels",
                                type: "Humor/Lifestyle",
                                content: {
                                    video: "Dublagem engra√ßada de algu√©m indeciso escolhendo √≥culos.",
                                    screenText: "Eu: 'Vou s√≥ dar uma olhadinha' / Eu saindo com 3 arma√ß√µes:",
                                    caption: "Imposs√≠vel escolher um s√≥ com tanta novidade na vitrine da Dr. Vis√£o! üòÇ Venha conferir a nova cole√ß√£o de ver√£o.",
                                    cta: "Marque aquela amiga indecisa!",
                                    hashtags: "#meme #humor #compras #miguelopolis"
                                },
                                storyPhrase: "Hoje √© dia de cuidar de voc√™. Estamos te esperando!",
                                storyCombo: { brand: "Ana Hickmann", sequence: ["Tour r√°pido pela prateleira da Ana Hickmann.", "Destaque para um modelo lan√ßamento.", "Convite: 'Venha provar este modelo hoje!'"] }
                            }
                        ]
                    },
                    {
                        id: 3,
                        theme: "Estilo e Tend√™ncias 2026",
                        focus: "Conex√£o & Lifestyle",
                        color: "bg-purple-600",
                        posts: [
                            { day: "Segunda-feira", format: "Carrossel", type: "Volta √†s Aulas", content: { structure: "Checklist: Material, Uniforme, √ìculos novo.", caption: "O rendimento escolar come√ßa pelos olhos. Temos arma√ß√µes infantis resistentes em Miguel√≥polis.", cta: "Traga seu filho!", hashtags: "#voltaasaulas #maes #miguelopolis" }, storyPhrase: "Segundou!", storyCombo: { brand: "Kipling (Foco Infantil)", sequence: ["Foto de √≥culos colorido.", "Crian√ßa usando.", "Texto: 'Resistente'."]} },
                            { day: "Ter√ßa-feira", format: "Reels", type: "Tend√™ncia 2026", content: { video: "Transi√ß√£o acetato cristal e metais dourados.", screenText: "O que vai bombar em 2026 ‚ú®", caption: "Leveza e minimalismo. Acetato cristal e metais dourados est√£o com tudo.", cta: "Comente '1' ou '2'.", hashtags: "#moda2026 #tendencia #miguelopolis" }, storyPhrase: "A vida √© curta para √≥culos sem gra√ßa.", storyCombo: { brand: "Grazi Eyewear", sequence: ["V√≠deo acetato cristal.", "Enquete.", "Foto no rosto."]} },
                            { day: "Quarta-feira", format: "Est√°tico", type: "Rosto e Formato", content: { video: "Infogr√°fico Visagismo.", caption: "Segredo da harmonia √© contraste. Nossos consultores em Miguel√≥polis s√£o especialistas.", cta: "Consultoria gratuita.", hashtags: "#visagismo #autoestima #miguelopolis" }, storyPhrase: "Prote√ß√£o e estilo.", storyCombo: { brand: "Sabrina Sato", sequence: ["Foto modelo Bold.", "Texto: 'Transforme seu look'.", "Link WhatsApp."]} },
                            { day: "Quinta-feira", format: "Reels", type: "Solar", content: { video: "Colocando √≥culos de sol.", screenText: "Prote√ß√£o UV n√£o tem esta√ß√£o.", caption: "O sol de janeiro n√£o perdoa. Proteja seus olhos com estilo.", cta: "Veja modelos.", hashtags: "#verao2026 #solar #miguelopolis" }, storyPhrase: "J√° agendou exame?", storyCombo: { brand: "Mormaii", sequence: ["V√≠deo esportivo.", "Foto curvatura.", "Texto: 'Pratique esportes'."]} },
                            { day: "Sexta-feira", format: "Carrossel", type: "Arma√ß√µes 2 em 1", content: { structure: "Fotos Clip-on.", caption: "Um √≥culos, duas fun√ß√µes. Praticidade e economia.", cta: "Venha ver os modelos Clip-on.", hashtags: "#clipon #economia #miguelopolis" }, storyPhrase: "Sexta pede √≥culos de sol.", storyCombo: { brand: "Evoke", sequence: ["Foto conceitual.", "Texto estilizado.", "M√∫sica eletr√¥nica."]} },
                            { day: "S√°bado", format: "Reels", type: "Bastidores", content: { video: "Time lapse montagem.", screenText: "Feito com precis√£o.", caption: "O cuidado que seus olhos merecem. Bom final de semana!", cta: "Vem pra Dr. Vis√£o!", hashtags: "#qualidade #miguelopolis" }, storyPhrase: "S√°bado de sol e novidades.", storyCombo: { brand: "Ray-Ban", sequence: ["Mesa com op√ß√µes.", "M√£o escolhendo.", "Localiza√ß√£o."]} }
                        ]
                    },
                    {
                        id: 4,
                        theme: "Prova Social e Ofertas",
                        focus: "Confian√ßa & Convers√£o",
                        color: "bg-orange-500",
                        posts: [
                            { day: "Segunda-feira", format: "Est√°tico", type: "Depoimento", content: { video: "Foto cliente feliz.", caption: "'O atendimento da Dr. Vis√£o mudou minha rela√ß√£o com √≥culos'. Obrigado Miguel√≥polis!", cta: "Conte sua experi√™ncia.", hashtags: "#feedback #miguelopolis" }, storyPhrase: "Nova semana, nova vis√£o.", storyCombo: { brand: "Hickmann", sequence: ["Foto detalhe.", "Texto: 'Encanto'.", "Link cole√ß√£o."]} },
                            { day: "Ter√ßa-feira", format: "Reels", type: "Ray-Ban Meta Reminder", content: { video: "Recap Ray-Ban Meta.", screenText: "√öltimas unidades.", caption: "Sucesso de Janeiro! Garanta as √∫ltimas unidades do √≥culos inteligente.", cta: "Chame no Direct.", hashtags: "#tech #miguelopolis" }, storyPhrase: "Cuide de seus olhos.", storyCombo: { brand: "Ray-Ban Meta", sequence: ["V√≠deo POV.", "Texto: 'Gravado com √≥culos'.", "Link compra."]} },
                            { day: "Quarta-feira", format: "Carrossel", type: "Lentes de Contato", content: { structure: "Vantagens lentes de contato.", caption: "Alterne √≥culos com lentes. Liberdade para academia e festas.", cta: "Agende teste.", hashtags: "#lentes #liberdade #miguelopolis" }, storyPhrase: "Beleza no olhar.", storyCombo: { brand: "Platini", sequence: ["Foto leve.", "Texto: 'Discri√ß√£o'.", "Bot√£o cora√ß√£o."]} },
                            { day: "Quinta-feira", format: "Reels", type: "Humor/Identifica√ß√£o", content: { video: "Memes de quem usa √≥culos.", caption: "Quem nunca? üòÇ Marque aquele amigo cego.", cta: "Compartilhe.", hashtags: "#humor #miguelopolis" }, storyPhrase: "Quase l√°!", storyCombo: { brand: "D√©bora Secco", sequence: ["V√≠deo unboxing.", "Foto estojo.", "Texto: 'Luxo'."]} },
                            { day: "Sexta-feira", format: "Est√°tico", type: "Resumo do M√™s", content: { video: "Foto equipe.", caption: "Janeiro foi incr√≠vel em Miguel√≥polis! Aproveite os √∫ltimos dias.", cta: "Link na bio.", hashtags: "#ofertas #miguelopolis" }, storyPhrase: "Prepare o visual.", storyCombo: { brand: "Ana Hickmann", sequence: ["3 √≥culos lado a lado.", "Qual voc√™ escolhe?", "Cupom."]} },
                            { day: "S√°bado", format: "Reels", type: "Bom dia/Lifestyle", content: { video: "Caf√© na loja.", screenText: "S√°bado pede √≥culos novo.", caption: "Vitrines renovadas. Vem fechar o m√™s com chave de ouro!", cta: "Visite-nos.", hashtags: "#sabadou #miguelopolis" }, storyPhrase: "√öltimo s√°bado!", storyCombo: { brand: "Mix de Marcas", sequence: ["Panor√¢mica.", "Equipe dando tchau.", "Localiza√ß√£o."]} }
                        ]
                    }
                ]
            }
        };

        const brandsList = [
            "Ana Hickmann", "Ray-Ban", "Mormaii", "Grazi", "Sabrina Sato", "Evoke", "Kipling"
        ];

        // --- ESTADO ---
        let activeWeekId = 1;
        
        // --- INICIALIZA√á√ÉO ---
        document.addEventListener('DOMContentLoaded', () => {
            renderBrandTags();
            renderAll();
        });

        function renderAll() {
            renderSidebar();
            renderHeader();
            renderPosts();
            lucide.createIcons();
        }

        // --- RENDERIZA√á√ÉO ---
        
        function renderBrandTags() {
            const container = document.getElementById('brand-tags');
            container.innerHTML = brandsList.map(brand => 
                `<span class="text-[10px] bg-slate-100 text-slate-500 px-2 py-1 rounded-full">${brand}</span>`
            ).join('');
        }

        function renderSidebar() {
            const container = document.getElementById('week-nav');
            container.innerHTML = `
                <div class="text-xs font-semibold text-slate-400 mb-2 px-2 uppercase">Semanas</div>
                ${planData.strategy.weeks.map(week => `
                    <button onclick="changeWeek(${week.id})" 
                        class="w-full text-left p-3 rounded-lg flex items-center justify-between transition-all duration-200 mb-1 ${activeWeekId === week.id ? 'bg-indigo-50 text-indigo-700 shadow-sm' : 'hover:bg-slate-100 text-slate-600'}">
                        <div class="flex flex-col">
                            <span class="font-medium text-sm">Semana ${week.id}</span>
                            <span class="text-xs opacity-75 truncate max-w-[140px]">${week.focus}</span>
                        </div>
                        ${activeWeekId === week.id ? '<i data-lucide="chevron-right" class="w-4 h-4"></i>' : ''}
                    </button>
                `).join('')}
            `;
        }

        function renderHeader() {
            const currentWeek = planData.strategy.weeks.find(w => w.id === activeWeekId);
            document.getElementById('month-title').innerText = planData.strategy.month;
            document.getElementById('week-theme-display').innerHTML = `
                <span class="w-2 h-2 rounded-full ${currentWeek.color}"></span>
                ${currentWeek.theme}
            `;
        }

        function getFormatIcon(format) {
            switch(format) {
                case 'Reels': return '<i data-lucide="video" class="w-5 h-5 text-pink-600"></i>';
                case 'Carrossel': return '<i data-lucide="layers" class="w-5 h-5 text-blue-600"></i>';
                case 'Est√°tico': return '<i data-lucide="image" class="w-5 h-5 text-purple-600"></i>';
                default: return '<i data-lucide="zap" class="w-5 h-5 text-gray-600"></i>';
            }
        }

        function renderPosts() {
            const currentWeek = planData.strategy.weeks.find(w => w.id === activeWeekId);
            const grid = document.getElementById('posts-grid');
            
            grid.innerHTML = currentWeek.posts.map((post, index) => {
                // Serializar o objeto post para passar como string segura na fun√ß√£o
                const postString = encodeURIComponent(JSON.stringify(post));
                
                return `
                <div onclick="openModal('${postString}')" class="bg-white rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:border-indigo-300 transition-all cursor-pointer group flex flex-col h-full">
                    <!-- Header do Card -->
                    <div class="p-4 border-b border-slate-100 flex justify-between items-start">
                        <div>
                            <span class="text-xs font-bold uppercase tracking-wider text-slate-400 block mb-1">${post.day}</span>
                            <h3 class="font-semibold text-slate-800 leading-tight group-hover:text-indigo-600">${post.type}</h3>
                        </div>
                        <div class="p-2 bg-slate-50 rounded-lg group-hover:bg-indigo-50 transition-colors">
                            ${getFormatIcon(post.format)}
                        </div>
                    </div>

                    <!-- Corpo do Card -->
                    <div class="p-4 flex-1">
                        <p class="text-sm text-slate-500 line-clamp-3 mb-3">${post.content.caption}</p>
                        <div class="flex gap-2 flex-wrap mb-3">
                            ${post.content.hashtags.split(' ').slice(0, 2).map(tag => 
                                `<span class="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-md">${tag}</span>`
                            ).join('')}
                            <span class="text-xs text-slate-400 py-1">+mais</span>
                        </div>
                        
                        ${post.storyCombo ? `
                        <div class="mt-2 flex items-center gap-2 p-2 bg-pink-50 rounded-md border border-pink-100">
                            <i data-lucide="camera" class="w-3 h-3 text-pink-600"></i>
                            <span class="text-xs font-semibold text-pink-700 truncate">Story: ${post.storyCombo.brand}</span>
                        </div>
                        ` : ''}
                    </div>

                    <!-- Footer do Card -->
                    <div class="p-3 bg-slate-50 rounded-b-xl border-t border-slate-100 flex justify-end items-center text-xs text-slate-500">
                        <span class="text-indigo-600 font-medium opacity-0 group-hover:opacity-100 transition-opacity">Ver Detalhes ‚Üí</span>
                    </div>
                </div>
            `}).join('');
        }

        // --- A√á√ïES ---

        function changeWeek(id) {
            activeWeekId = id;
            renderAll();
        }

        function openModal(postDataEncoded) {
            const post = JSON.parse(decodeURIComponent(postDataEncoded));
            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');
            
            // Popula o modal
            content.innerHTML = `
                <div class="sticky top-0 bg-white z-10 border-b border-slate-100 p-6 flex justify-between items-start">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-bold rounded uppercase">${post.format}</span>
                            <span class="text-slate-400 text-sm">${post.day}</span>
                        </div>
                        <h2 class="text-2xl font-bold text-slate-800">${post.type}</h2>
                    </div>
                    <button onclick="closeModal()" class="p-2 hover:bg-slate-100 rounded-full transition-colors">
                        <i data-lucide="x" class="w-6 h-6 text-slate-500"></i>
                    </button>
                </div>

                <div class="p-6 space-y-8">
                    <!-- Se√ß√£o Visual -->
                    <div class="space-y-3">
                        <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wide flex items-center gap-2">
                            <i data-lucide="layout-grid" class="w-4 h-4"></i> Visual / Roteiro
                        </h3>
                        <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 text-slate-700 text-sm leading-relaxed">
                            ${post.content.video || post.content.structure}
                        </div>
                        ${post.content.screenText ? `
                        <div class="bg-pink-50 p-3 rounded-lg border border-pink-100 text-pink-800 text-sm">
                            <span class="font-bold">Texto na tela:</span> "${post.content.screenText}"
                        </div>` : ''}
                        ${post.content.audio ? `
                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100 text-blue-800 text-sm flex items-center gap-2">
                            <i data-lucide="zap" class="w-4 h-4"></i> <span class="font-bold">√Åudio:</span> ${post.content.audio}
                        </div>` : ''}
                    </div>

                    <!-- Se√ß√£o Legenda -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wide flex items-center gap-2">
                                <i data-lucide="copy" class="w-4 h-4"></i> Legenda
                            </h3>
                            <button onclick="copyToClipboard(this, '${encodeURIComponent(post.content.caption)}')" class="text-xs flex items-center gap-1 text-indigo-600 hover:text-indigo-800 font-medium">
                                <i data-lucide="copy" class="w-3 h-3"></i> Copiar
                            </button>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-300 text-slate-700 text-sm whitespace-pre-line shadow-sm">
                            ${post.content.caption}
                            <br/><br/>
                            <span class="text-indigo-600 font-medium">${post.content.hashtags}</span>
                        </div>
                    </div>

                    <!-- Se√ß√£o Story Combo -->
                    ${post.storyCombo ? `
                    <div class="border-t border-slate-200 pt-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wide flex items-center gap-2">
                                <i data-lucide="instagram" class="w-4 h-4 text-pink-600"></i> Combo de Stories
                            </h3>
                            <span class="bg-pink-100 text-pink-700 px-2 py-1 rounded text-xs font-bold">${post.storyCombo.brand}</span>
                        </div>
                        <div class="grid grid-cols-1 gap-3">
                            <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-100 shadow-sm">
                                <h4 class="text-xs font-bold text-purple-700 uppercase mb-3 tracking-wider">Sequ√™ncia Sugerida</h4>
                                <div class="space-y-3">
                                    ${post.storyCombo.sequence.map((step, idx) => `
                                    <div class="flex gap-3 items-start">
                                        <span class="flex-shrink-0 w-5 h-5 rounded-full bg-white text-purple-600 text-xs font-bold flex items-center justify-center border border-purple-100 shadow-sm">${idx + 1}</span>
                                        <p class="text-sm text-slate-700 leading-tight pt-0.5">${step}</p>
                                    </div>`).join('')}
                                </div>
                            </div>
                            <div class="bg-white p-3 rounded-lg border border-slate-200 flex justify-between items-center gap-3">
                                <div class="flex-1">
                                    <span class="text-[10px] text-slate-400 uppercase font-bold block mb-1">Frase de Bom Dia</span>
                                    <p class="text-sm text-slate-600 italic">"${post.storyPhrase}"</p>
                                </div>
                                <button onclick="copyToClipboard(this, '${encodeURIComponent(post.storyPhrase)}')" class="p-2 hover:bg-slate-50 rounded-full text-slate-400 hover:text-indigo-600">
                                    <i data-lucide="copy" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>` : ''}

                    <!-- Se√ß√£o CTA -->
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200 mt-4">
                        <h4 class="text-green-800 font-bold text-sm mb-1">Chamada para A√ß√£o (CTA)</h4>
                        <p class="text-green-700 text-sm">${post.content.cta}</p>
                    </div>
                </div>
            `;

            // Mostra o modal (anima√ß√£o CSS)
            overlay.classList.remove('opacity-0', 'pointer-events-none');
            content.classList.remove('translate-x-full');
            
            // Re-renderiza √≠cones dentro do modal
            lucide.createIcons();
        }

        function closeModal() {
            const overlay = document.getElementById('modal-overlay');
            const content = document.getElementById('modal-content');
            
            overlay.classList.add('opacity-0', 'pointer-events-none');
            content.classList.add('translate-x-full');
        }

        function copyToClipboard(btnElement, textEncoded) {
            const text = decodeURIComponent(textEncoded);
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = btnElement.innerHTML;
                btnElement.innerHTML = `<i data-lucide="check-circle" class="w-3 h-3 text-green-600"></i> <span class="text-green-600">Copiado!</span>`;
                lucide.createIcons();
                
                setTimeout(() => {
                    btnElement.innerHTML = originalHTML;
                    lucide.createIcons();
                }, 2000);
            });
        }

    </script>
</body>
</html>
